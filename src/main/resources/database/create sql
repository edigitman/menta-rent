CREATE TABLE `USERS` (
	`ID` INT(10) NOT NULL AUTO_INCREMENT,
	`EMAIL` varchar(30) NOT NULL,
	`ALIAS` varchar(20) NOT NULL,
	`PASSWORD` varchar(25) NOT NULL,
	`TOKEN` varchar(35) NOT NULL,
	`CONFIRMED` BOOLEAN NOT NULL,
	`ADDRESS` INT(10) NOT NULL,
	PRIMARY KEY (`ID`,`EMAIL`)
);

CREATE TABLE `ADDRESS` (
	`ID` INT(10) NOT NULL AUTO_INCREMENT,
	`CITY` varchar(20) NOT NULL,
	`STREET` varchar(50) NOT NULL,
	`NR` varchar(10) NOT NULL,
	`BUILDING` varchar(10) NOT NULL,
	`STARICASE` varchar(10) NOT NULL,
	`FLOOR` varchar(10) NOT NULL,
	`FLAT` varchar(10) NOT NULL,
	`LNG` DECIMAL(10) NOT NULL,
	`LAT` DECIMAL(10) NOT NULL,
	`CP` varchar(6) NOT NULL,
	PRIMARY KEY (`ID`)
);

CREATE TABLE `ADVERTS` (
	`ID` INT NOT NULL AUTO_INCREMENT,
	`DESCRIPTION` varchar(100) NOT NULL,
	`BUILDINGTYPE` varchar(10) NOT NULL,
	`DATEFROM` DATE NOT NULL,
	`DATEUNTIL` DATE NOT NULL,
	`PRICE` FLOAT(10) NOT NULL,
	`DEPOSIT` FLOAT(10) NOT NULL,
	`NEGOTIABLE` BOOLEAN NOT NULL,
	`CURRENCY` varchar(3) NOT NULL,
	`NOROOMS` INT(2) NOT NULL,
	`SQRM` DECIMAL(10) NOT NULL,
	`FEATURES` INT(25) NOT NULL,
	`BUILDYEAR` INT(4) NOT NULL,
	`ADDRESS` INT(10) NOT NULL,
	`USER` INT(10) NOT NULL,
	PRIMARY KEY (`ID`)
);

CREATE TABLE `IMAGE` (
	`ID` INT(10) NOT NULL AUTO_INCREMENT,
	`CLOUDINARYID` BINARY NOT NULL,
	`ADVERT` INT(10) NOT NULL,
	PRIMARY KEY (`ID`)
);

ALTER TABLE `USERS` ADD CONSTRAINT `USER_fk0` FOREIGN KEY (`ADDRESS`) REFERENCES `ADDRESS`(`ID`);

ALTER TABLE `ADVERTS` ADD CONSTRAINT `ADVERT_fk0` FOREIGN KEY (`ADDRESS`) REFERENCES `ADDRESS`(`ID`);

ALTER TABLE `ADVERTS` ADD CONSTRAINT `ADVERT_fk1` FOREIGN KEY (`USER`) REFERENCES `USERS`(`ID`);

ALTER TABLE `IMAGE` ADD CONSTRAINT `IMAGE_fk0` FOREIGN KEY (`ADVERT`) REFERENCES `ADVERTS`(`ID`);
